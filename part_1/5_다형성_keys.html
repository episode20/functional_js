<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>함수형으로 전환 예제-커링</title>
  <script src="../js/_.js"></script>
</head>
<body>
  <script>
    /**
     * 다형성 높이기, keys, 에러처리
     *  함수형 프로그래밍에서는 에러가 발생해도 흘러가도록 설계
     * */

     // _each함수 에러처리
     _each(null, console.log);
     console.log(_map(null, function(v){return v;}));

    // go
    _go(
      null,
      _filter(function(v) {return v % 2;}),
      _map(function(v) {return v * v; }),
      console.log
    )
    
    // keys 함수 Object.keys
    console.log(Object.keys({name:'ID', age:22 }));
    console.log(Object.keys([1,2,3,4,5]));
    // console.log(Object.keys(null));

    console.log(_keys(null));

    _each({
      13:'ID',
      19:'HD',
      29:'YD'
    }, function(name) {
      console.log(name)
    })

    console.log(_map({
      13:'ID',
      19:'HD',
      29:'YD'
    }, function(name) {
      return name.toLowerCase();
    }))

    console.log(_filter({
      13:'ID',
      19:'HD',
      29:'YD'
    }, function(v){
      return v==='ID'
    }));

    _go(
      {
        13:'ID',
        19:'HD',
        29:'YD'
      },
      _map(function(name){
        return name.toLowerCase();
      }),
      console.log
    )

    _go(
      users,
      _map(function(user){
        return user.name;
      }),
      _map(function(name){
        return name.toLowerCase();
      }),
      console.log
    )
  </script>
</body>
</html>